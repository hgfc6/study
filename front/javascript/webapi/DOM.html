<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web API DOM</title>
</head>
<body>
<div>
    JS DOMï¼ˆJavaScript Document Object Modelï¼‰æ˜¯ JavaScript æ“ä½œç½‘é¡µå†…å®¹çš„æ ¸å¿ƒæ¥å£ã€‚<br>
    å®ƒå…è®¸å¼€å‘è€…é€šè¿‡ JavaScript åŠ¨æ€åœ°è®¿é—®ã€ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤ HTML å’Œ XML æ–‡æ¡£ä¸­çš„å…ƒç´ ã€å±æ€§å’Œæ ·å¼ã€‚<br>
    DOM å°†æ•´ä¸ªæ–‡æ¡£è¡¨ç¤ºä¸ºä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡è¿™äº›å¯¹è±¡ä¸ç½‘é¡µè¿›è¡Œäº¤äº’ã€‚
</div>
<br>

<div>
    å¸¸ç”¨ DOM æ“ä½œ<br>
    è·å–å…ƒç´ ï¼š<br><br>

    document.getElementById(id)ï¼šé€šè¿‡å…ƒç´ çš„ id è·å–å…ƒç´ ã€‚<br>
    document.getElementsByClassName(className)ï¼šé€šè¿‡ç±»åè·å–å…ƒç´ é›†åˆã€‚<br>
    document.getElementsByTagName(tagName)ï¼šé€šè¿‡æ ‡ç­¾åè·å–å…ƒç´ é›†åˆã€‚<br>
    document.querySelector(selector)ï¼šé€šè¿‡ CSS é€‰æ‹©å™¨è·å–ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚<br>
    document.querySelectorAll(selector)ï¼šé€šè¿‡ CSS é€‰æ‹©å™¨è·å–æ‰€æœ‰åŒ¹é…çš„å…ƒç´ ã€‚<br>
    ä¿®æ”¹å…ƒç´ å†…å®¹ï¼š<br><br>

    element.innerHTMLï¼šè·å–æˆ–è®¾ç½®å…ƒç´ çš„ HTML å†…å®¹ã€‚<br>
    element.textContentï¼šè·å–æˆ–è®¾ç½®å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚<br>
    ä¿®æ”¹å…ƒç´ å±æ€§ï¼š<br><br>

    element.setAttribute(name, value)ï¼šè®¾ç½®å…ƒç´ çš„å±æ€§ã€‚<br>
    element.getAttribute(name)ï¼šè·å–å…ƒç´ çš„å±æ€§å€¼ã€‚<br>
    element.removeAttribute(name)ï¼šç§»é™¤å…ƒç´ çš„å±æ€§ã€‚<br>
    æ·»åŠ å’Œåˆ é™¤å…ƒç´ ï¼š<br><br>

    document.createElement(tagName)ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚<br>
    parentElement.appendChild(newElement)ï¼šå°†æ–°å…ƒç´ æ·»åŠ åˆ°çˆ¶å…ƒç´ çš„å­èŠ‚ç‚¹æœ«å°¾ã€‚<br>
    parentElement.removeChild(childElement)ï¼šä»çˆ¶å…ƒç´ ä¸­ç§»é™¤å­å…ƒç´ ã€‚<br>
    ä¿®æ”¹æ ·å¼ï¼š<br><br>

    element.style.property = valueï¼šç›´æ¥ä¿®æ”¹å…ƒç´ çš„æ ·å¼å±æ€§ã€‚<br>
    element.classList.add(className)ï¼šä¸ºå…ƒç´ æ·»åŠ ä¸€ä¸ªç±»ã€‚<br>
    element.classList.remove(className)ï¼šä»å…ƒç´ ä¸­ç§»é™¤ä¸€ä¸ªç±»ã€‚<br>
    element.classList.toggle(className)ï¼šåˆ‡æ¢å…ƒç´ çš„ç±»ã€‚
</div>
<br>

<h1 id="title">Hello World</h1>
<p class="content">This is a paragraph.</p>
<button onclick="changeContent()">Change Content</button>

<script>
    function changeContent() {
        // è·å–å…ƒç´ 
        const title = document.getElementById('title');
        const content = document.querySelector('.content');

        // ä¿®æ”¹å…ƒç´ å†…å®¹
        title.textContent = 'Welcome to JS DOM!';
        content.innerHTML = 'This content has been changed dynamically.';

        // ä¿®æ”¹æ ·å¼
        title.style.color = 'blue';
        content.classList.add('highlight');
    }
</script>

<div>
    <br>
    <br>
    <br>
    DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰äº‹ä»¶ç›‘å¬æ˜¯æŒ‡åœ¨ç½‘é¡µä¸­é€šè¿‡JavaScriptæ¥ç›‘å¬å’Œå“åº”ç”¨æˆ·æˆ–æµè§ˆå™¨è§¦å‘çš„å„ç§äº‹ä»¶ã€‚äº‹ä»¶ç›‘å¬æœºåˆ¶å…è®¸å¼€å‘è€…åœ¨ç‰¹å®šäº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡Œç›¸åº”çš„ä»£ç ï¼Œä»è€Œå®ç°äº¤äº’åŠŸèƒ½ã€‚<br>
    <button id="listener">ç‚¹å‡»</button>
    <div id="listener123"></div>
</div>
<script>
    var ele = document.querySelector("#listener");

    function handclick(event) {
        document.getElementById("listener123").innerText = event.clientX + "--" + event.clientY
    }

    // å¢åˆ äº‹ä»¶
    ele.addEventListener("click", handclick)
    ele.removeEventListener("click", handclick)
    ele.addEventListener("click", handclick)

    // äº‹ä»¶å†’æ³¡ä¸è§¦å‘
    // äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·æ˜¯DOMäº‹ä»¶ä¼ æ’­çš„ä¸¤ç§æœºåˆ¶ï¼Œå®ƒä»¬å†³å®šäº†äº‹ä»¶åœ¨DOMæ ‘ä¸­çš„ä¼ æ’­é¡ºåºã€‚

    /*äº‹ä»¶æ•è·ï¼ˆEvent Capturingï¼‰
    äº‹ä»¶æ•è·æ˜¯ä»æœ€å¤–å±‚çš„ç¥–å…ˆå…ƒç´ å¼€å§‹ï¼Œé€çº§å‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ çš„è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œäº‹ä»¶ä¼šä»documentå¯¹è±¡å¼€å§‹ï¼Œæ²¿ç€DOMæ ‘å‘ä¸‹ä¼ æ’­ï¼Œç›´åˆ°åˆ°è¾¾è§¦å‘äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ã€‚

    äº‹ä»¶å†’æ³¡ï¼ˆEvent Bubblingï¼‰
    äº‹ä»¶å†’æ³¡æ˜¯ä»ç›®æ ‡å…ƒç´ å¼€å§‹ï¼Œé€çº§å‘ä¸Šä¼ æ’­åˆ°æœ€å¤–å±‚çš„ç¥–å…ˆå…ƒç´ çš„è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œäº‹ä»¶ä¼šä»ç›®æ ‡å…ƒç´ å¼€å§‹ï¼Œæ²¿ç€DOMæ ‘å‘ä¸Šä¼ æ’­ï¼Œç›´åˆ°åˆ°è¾¾documentå¯¹è±¡ã€‚

    äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µ
    æ•è·é˜¶æ®µï¼ˆCapture Phaseï¼‰ï¼šäº‹ä»¶ä»documentå¯¹è±¡å‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ã€‚
    ç›®æ ‡é˜¶æ®µï¼ˆTarget Phaseï¼‰ï¼šäº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ ã€‚
    å†’æ³¡é˜¶æ®µï¼ˆBubble Phaseï¼‰ï¼šäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å‘ä¸Šä¼ æ’­åˆ°documentå¯¹è±¡ã€‚
    å¦‚ä½•æ§åˆ¶äº‹ä»¶ä¼ æ’­
        åœ¨JavaScriptä¸­ï¼Œä½ å¯ä»¥é€šè¿‡addEventListeneræ–¹æ³•æ¥æŒ‡å®šäº‹ä»¶æ˜¯åœ¨æ•è·é˜¶æ®µè¿˜æ˜¯å†’æ³¡é˜¶æ®µå¤„ç†ã€‚addEventListeneræ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œ
        ç”¨äºæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºæ˜¯åœ¨æ•è·é˜¶æ®µï¼ˆtrueï¼‰è¿˜æ˜¯å†’æ³¡é˜¶æ®µï¼ˆfalseï¼Œé»˜è®¤å€¼ï¼‰æ‰§è¡Œã€‚

        element.addEventListener('click', function(event) {
            console.log('äº‹ä»¶æ•è·é˜¶æ®µ');
        }, true);

        element.addEventListener('click', function(event) {
            console.log('äº‹ä»¶å†’æ³¡é˜¶æ®µ');
        }, false);

        é˜»æ­¢äº‹ä»¶ä¼ æ’­
        ä½ å¯ä»¥ä½¿ç”¨event.stopPropagation()æ–¹æ³•æ¥é˜»æ­¢äº‹ä»¶ç»§ç»­ä¼ æ’­ã€‚è¿™ä¼šé˜»æ­¢äº‹ä»¶åœ¨æ•è·æˆ–å†’æ³¡é˜¶æ®µçš„è¿›ä¸€æ­¥ä¼ æ’­ã€‚

        element.addEventListener('click', function(event) {
            event.stopPropagation();
            console.log('äº‹ä»¶ä¼ æ’­è¢«é˜»æ­¢');
        });

        é˜»æ­¢é»˜è®¤è¡Œä¸º
        ä½ å¯ä»¥ä½¿ç”¨event.preventDefault()æ–¹æ³•æ¥é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œé˜»æ­¢è¡¨å•æäº¤æˆ–é“¾æ¥è·³è½¬ã€‚

        element.addEventListener('click', function(event) {
            event.preventDefault();
            console.log('é»˜è®¤è¡Œä¸ºè¢«é˜»æ­¢');
        });

        æ€»ç»“
        äº‹ä»¶æ•è·ï¼šä»å¤–å‘å†…ä¼ æ’­ã€‚
        äº‹ä»¶å†’æ³¡ï¼šä»å†…å‘å¤–ä¼ æ’­ã€‚
        äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µï¼šæ•è·ã€ç›®æ ‡ã€å†’æ³¡ã€‚
        æ§åˆ¶äº‹ä»¶ä¼ æ’­ï¼šä½¿ç”¨addEventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚
        é˜»æ­¢äº‹ä»¶ä¼ æ’­ï¼šä½¿ç”¨event.stopPropagation()ã€‚
        é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼šä½¿ç”¨event.preventDefault()ã€‚
        ç†è§£äº‹ä»¶å†’æ³¡å’Œæ•è·æœºåˆ¶æœ‰åŠ©äºæ›´å¥½åœ°æ§åˆ¶å’Œç®¡ç†DOMäº‹ä»¶ã€‚*/
    document.body.addEventListener('click', function () {
        console.log('Body clicked (capture phase)');
    }, true);

    document.body.addEventListener('click', function () {
        console.log('Body clicked (bubble phase)');
    });
</script>
<br>
<br>
<br>
<div>
    å¸¸ç”¨äº‹ä»¶ç±»å‹<br>
    ğŸ–±ï¸ é¼ æ ‡äº‹ä»¶<br><br>

    clickï¼šé¼ æ ‡å•å‡»ï¼ˆå·¦é”®ç‚¹å‡»åæŠ¬èµ·ï¼‰<br>
    dblclickï¼šé¼ æ ‡åŒå‡»ï¼ˆå¿«é€Ÿè¿ç»­ä¸¤æ¬¡ç‚¹å‡»ï¼‰<br>
    mouseoverï¼šé¼ æ ‡æŒ‡é’ˆç§»å…¥å…ƒç´ åŒºåŸŸ<br>
    mouseoutï¼šé¼ æ ‡æŒ‡é’ˆç§»å‡ºå…ƒç´ åŒºåŸŸ<br>
    mousedownï¼šé¼ æ ‡æŒ‰é”®æŒ‰ä¸‹ï¼ˆæ— éœ€æŠ¬èµ·ï¼‰<br>
    mouseupï¼šé¼ æ ‡æŒ‰é”®é‡Šæ”¾<br><br>
    âŒ¨ï¸ é”®ç›˜äº‹ä»¶<br><br>

    keydownï¼šé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹ï¼ˆä»»ä½•é”®éƒ½ä¼šè§¦å‘ï¼‰<br>
    keyupï¼šé”®ç›˜æŒ‰é”®è¢«é‡Šæ”¾<br>
    keypressï¼šå­—ç¬¦é”®è¢«æŒ‰ä¸‹ï¼ˆä¸»è¦é’ˆå¯¹å¯æ‰“å°å­—ç¬¦ï¼‰<br><br>
    ğŸ“ è¡¨å•äº‹ä»¶<br><br>

    submitï¼šè¡¨å•æäº¤æ—¶è§¦å‘<br>
    changeï¼šè¡¨å•å…ƒç´ å€¼æ”¹å˜ä¸”å¤±å»ç„¦ç‚¹åè§¦å‘ï¼ˆå¦‚è¾“å…¥æ¡†ï¼‰<br>
    focusï¼šå…ƒç´ è·å¾—ç„¦ç‚¹ï¼ˆå¦‚ç‚¹å‡»è¾“å…¥æ¡†ï¼‰<br>
    blurï¼šå…ƒç´ å¤±å»ç„¦ç‚¹ï¼ˆå¦‚ç‚¹å‡»å…¶ä»–åŒºåŸŸï¼‰<br><br>
    ğŸ–¼ï¸ çª—å£äº‹ä»¶<br><br>

    loadï¼šé¡µé¢åŠæ‰€æœ‰èµ„æºåŠ è½½å®Œæˆæ—¶è§¦å‘<br>
    resizeï¼šæµè§ˆå™¨çª—å£å¤§å°æ”¹å˜æ—¶è§¦å‘<br>
    scrollï¼šé¡µé¢æˆ–å…ƒç´ å‘ç”Ÿæ»šåŠ¨æ—¶è§¦å‘<br><br>
    ä½¿ç”¨æŠ€å·§ï¼š<br><br>

    äº‹ä»¶ä¼ æ’­ï¼šæ³¨æ„äº‹ä»¶å†’æ³¡ï¼ˆbubbleï¼‰å’Œæ•è·ï¼ˆcaptureï¼‰é˜¶æ®µ<br>
    æ€§èƒ½ä¼˜åŒ–ï¼šé«˜é¢‘äº‹ä»¶ï¼ˆå¦‚scroll/resizeï¼‰å»ºè®®ä½¿ç”¨èŠ‚æµï¼ˆthrottleï¼‰<br>
    å…¼å®¹æ€§ï¼šç§»åŠ¨ç«¯å»ºè®®ä½¿ç”¨ touch äº‹ä»¶æ›¿ä»£éƒ¨åˆ†é¼ æ ‡äº‹ä»¶<br>
    å¼ƒç”¨æ³¨æ„ï¼škeypress äº‹ä»¶å·²è¢«ç°ä»£æ ‡å‡†åºŸå¼ƒï¼Œæ¨èä½¿ç”¨ keydown ä»£æ›¿<br>
</div>
</body>
</html>