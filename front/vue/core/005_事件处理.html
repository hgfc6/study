<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件处理</title>
    <script type="text/javascript" src="../js2/vue.js"></script>
</head>
<body>
<!--
事件的基本使用：
      1.使用v-on:xxx 或 @xxx 绑定事件，其中xxx是事件名；
      2.事件的回调需要配置在methods对象中，最终会在vm上；
      3.methods中配置的函数，不要用箭头函数！否则this就不是vm了；
      4.methods中配置的函数，都是被Vue所管理的函数，this的指向是vm 或 组件实例对象；
      5.@click="demo" 和 @click="demo($event)" 效果一致，但后者可以传参；
-->

<!--
以下是Vue中常见的事件类型：

click - 鼠标点击事件。
input - 用户输入事件，当输入框的内容发生变化时触发。
keydown - 键盘按键按下时触发。
keyup - 键盘按键释放时触发。
submit - 表单提交事件。
change - 当元素的值发生变化时触发，通常用于<input>、<textarea>和<select>元素。
focus - 元素获得焦点时触发。
blur - 元素失去焦点时触发。
mouseover - 鼠标移动到元素上时触发。
mouseout - 鼠标移出元素时触发。
dblclick - 鼠标双击事件。
scroll - 滚动事件。
drag - 当元素被拖拽时触发的事件。
drop - 当元素被拖拽并释放到目标位置时触发的事件。
load - 当页面或图像加载完成时触发。
unload - 当页面或图像加载完成时触发。
resize - 当窗口大小发生变化时触发。
contextmenu - 右键点击事件，通常用于显示自定义菜单。
wheel - 当鼠标滚轮滚动时触发。
touchstart - 当用户开始触摸屏幕时触发。
touchend - 当用户结束触摸屏幕时触发。
touchmove - 当用户在屏幕上移动手指时触发。
touchcancel - 当触摸事件被中断时触发。
mouseenter - 当鼠标进入元素区域时触发。
mouseleave - 当鼠标离开元素区域时触发
-->

<div id="root">
    <h1>欢迎 {{ name }}</h1><br>
    <button v-on:click="showInfo1">点我提示信息1</button>
    <!--v-on:click可以简写为@click-->
    <!--showInfo1不加()表示不传值，但是函数会受到一个默认的事件event-->
    <button @click="showInfo2(66)">点我提示信息2 传参没event</button>
    <!--showInfo1加()表示传值，但是默认事件event就会丢失，此时可以在()内添加$event来告诉vue,这个位置要event。没传的参数默认为undefined-->
    <button @click="showInfo3($event, 77)">点我提示信息3 传参有event</button>
</div>

<script type="text/javascript">
    const vm = new Vue({
        el: "#root",
        data: {
            name: Date.now()
        },
        methods: {
            showInfo1(event) {
                console.log(event)
            },
            showInfo2(a) {
                console.log(a)
            },
            showInfo3(event, a, b) {
                console.log(event, a, b)
            },
        }
    })
</script>


<!--
Vue中的事件修饰符：
    1.prevent：阻止默认事件（常用）；=== event.preventDefault()
    2.stop：阻止事件冒泡（常用）；=== event.stopPropagation()
    3.once：事件只触发一次（常用）；
    4.capture：使用事件的捕获模式；使用后事件在捕获阶段就开始执行了
    5.self：只有event.target是当前操作的元素时才触发事件；
    6.passive：事件的默认行为立即执行，无需等待事件回调执行完毕；
    7.native - 监听组件根元素的原生事件。仅在自定义组件中使用。
    事件修饰符可以连着写，例如@click.provent.stop表示先阻止默认事件，再阻止冒泡
-->
<hr/>
<div id="root2">
    <a href="https://cn.bing.com/?mkt=zh-CN" @click.prevent="root2">点我查看提示信息</a>

    <div @click="root2">
        <button @click.stop="root2">点我查看阻止冒泡</button>
    </div>

    <button @click.once="root2">点我查看事件只触发一次</button>
</div>

<script type="text/javascript">
    new Vue({
        el: "#root2",
        methods: {
            root2() {
                window.alert(666)
            }
        }
    })
</script>


<hr/>
<!--
1.Vue中常用的按键别名：
      回车 => enter
      删除 => delete (捕获“删除”和“退格”键)
      退出 => esc
      空格 => space
      换行 => tab (特殊，必须配合keydown去使用,因为当按tab键时焦点就移走了，就触发不了keyup了)
      上 => up
      下 => down
      左 => left
      右 => right

2.Vue未提供别名的按键，可以使用按键原始的key值去绑定，但注意要转为kebab-case（短横线命名）例如CapsLock=>caps-lock

3.系统修饰键（用法特殊）：ctrl、alt、shift、meta
      (1).配合keyup使用：按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发。例如@click.ctrl.y表示按ctrl+y才可以触发
      (2).配合keydown使用：正常触发事件。

4.也可以使用keyCode去指定具体的按键（不推荐）

5.Vue.config.keyCodes.自定义键名 = 键码，可以去定制按键别名（不推荐）
-->
<div id="root3">
    <input type="text" placeholder="请输入" @keyup.enter="root3">
</div>
<script type="text/javascript">
    new Vue({
        el: "#root3",
        methods: {
            root3(e) {
                console.log(e.target.value)
            }
        }
    })
</script>

</body>
</html>